class LocalizationForm extends HTMLElement{constructor(){super(),this.elements={input:this.querySelector('input[name="locale_code"], input[name="country_code"]'),button:this.querySelector("button"),panel:this.querySelector("ul")},this.querySelectorAll("a").forEach(e=>e.addEventListener("click",this.onItemClick.bind(this)))}onItemClick(e){e.preventDefault(),this.elements.input.value=e.currentTarget.dataset.value,this.querySelector("form")?.submit()}openSelector(){this.elements.button.focus(),this.elements.panel.toggleAttribute("hidden"),this.elements.button.setAttribute("aria-expanded",("false"===this.elements.button.getAttribute("aria-expanded")).toString())}closeSelector(e){var t=e.relatedTarget&&"BUTTON"===e.relatedTarget.nodeName;null!==e.relatedTarget&&!t||(this.elements.button.setAttribute("aria-expanded","false"),this.elements.panel.setAttribute("hidden",!0))}onBodyClickEvent(e){this.contains(e.target)||0!==$(e.target).closest("[localization-form__select]").length||this.closeSelector(e)}}customElements.define("localization-form",LocalizationForm);