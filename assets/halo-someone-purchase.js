class SomeonePurchase extends HTMLElement{constructor(){var t,e,a;super(),0!=(this.popup=this).popup.getElementsByClassName("data-product").length&&(this.time=this.popup.getAttribute("data-notification-time"),this.timeText=this.popup.querySelector("[data-time-text]").textContent,this.timeText=this.timeText.replace(/(\r\n|\n|\r)/gm,""),""===this.getCookie("notification-popup")?(t=this.initSomeonePurchasePopup,e=this.popup,a=this.timeText,setInterval(function(){0<e.innerHTML.length&&t(e,a)},this.time)):(this.deleteCookie("notification-popup"),this.remove()),this.querySelector("[data-close-notification-popup]").addEventListener("click",this.setClosePopup.bind(this)))}setCookie(t,e,a){var i=new Date,a=(i.setTime(i.getTime()+24*a*60*60*1e3),"expires="+i.toUTCString());document.cookie=t+"="+e+";"+a+";path=/"}getCookie(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var o=a[i];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return""}deleteCookie(t){document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}setClosePopup(t=1){this.setCookie("notification-popup","closed",t),this.popup.classList.remove("is-active"),this.popup.remove()}initSomeonePurchasePopup(t,e){var a,i,o,s,n,r,l,p;t.classList.contains("is-active")?t.classList.remove("is-active"):(n=t.getElementsByClassName("data-product"),a=t.getElementsByClassName("product-image"),i=t.getElementsByClassName("product-name"),o=n.length,o=(n=n[Math.floor(Math.random()*o)]).getAttribute("data-image"),s=n.getAttribute("data-title"),n=n.getAttribute("data-url"),p=(r=t.getElementsByClassName("data-local")).length,r=r[Math.floor(Math.random()*p)].getAttribute("data-local"),l=(p=t.getElementsByClassName("data-time")).length,p=p[Math.floor(Math.random()*l)].getAttribute("data-time"),t.classList.add("is-active"),a[0].setAttribute("href",n),a[0].innerHTML='<img src="'+o+'" alt="'+s+'" title="'+s+'"><svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="external-link" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-external-link fa-w-16 fa-3x"><path d="M440,256H424a8,8,0,0,0-8,8V464a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V112A16,16,0,0,1,48,96H248a8,8,0,0,0,8-8V72a8,8,0,0,0-8-8H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V264A8,8,0,0,0,440,256ZM500,0,364,.34a12,12,0,0,0-12,12v10a12,12,0,0,0,12,12L454,34l.7.71L131.51,357.86a12,12,0,0,0,0,17l5.66,5.66a12,12,0,0,0,17,0L477.29,57.34l.71.7-.34,90a12,12,0,0,0,12,12h10a12,12,0,0,0,12-12L512,12A12,12,0,0,0,500,0Z" class=""></path></svg>',i[0].setAttribute("href",n),i[0].innerHTML=""+s,t.querySelector("[data-time-text]").innerText=e.replace("[time]",p).replace("[location]",r))}}customElements.define("notification-popup",SomeonePurchase);