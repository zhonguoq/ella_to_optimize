window.compareColor=function(){class e extends HTMLElement{constructor(){super(),(this.popup=this).imageList=$(this.querySelector(".halo-compareColors-image")),this.textList=this.querySelector(".halo-compareColors-text"),this.sortTable=document.getElementById("sortTableList"),$(document).on("click","[data-open-compare-color-popup]",e=>{this.setOpenPopup(e)}),$(document).on("click","[data-close-compare-color-popup]",e=>{this.setClosePopup(e)}),this.debouncedOnChange=debounce(e=>{this.onChangeHandler(e)},0),this.querySelector("ul").addEventListener("input",this.debouncedOnChange.bind(this)),document.body.addEventListener("click",this.onBodyClickEvent.bind(this)),1025<=window.innerWidth&&this.sortTable?new Sortable(this.sortTable,{animation:150}):this.onRemoveHandler()}setOpenPopup(e){e.preventDefault(),e.stopPropagation(),document.body.classList.add("compare-color-show"),(document.body.classList.contains("quick-view-show")?$(".halo-popup-content .halo-compare-color-popup"):$("#MainContent .halo-compare-color-popup")).addClass("is-show")}setClosePopup(e){e.preventDefault(),e.stopPropagation(),document.body.classList.remove("compare-color-show"),$(".halo-compare-color-popup").removeClass("is-show")}onChangeHandler(e){e.preventDefault();var e=e.target,o=e.nextElementSibling,t=e.value;e.checked?(e=o.getAttribute("title"),o=o.getAttribute("data-variant-img"),this.imageList.append(`<div class="item item-${t} item-compare-color"><span class="image"><img src="${o}" alt="${e}"></span><span class="title text-center">${e}</span></div>`)):this.imageList.find(".item-"+t).remove(),0<this.imageList.children().length?this.textList.style.display="none":this.textList.style.display="block"}onRemoveHandler(){this.imageList.on("click",".item",e=>{e.preventDefault();e=e.currentTarget.classList[1].replace("item-","");$(document.getElementById("swatch-compare-color-"+e)).trigger("click")})}onBodyClickEvent(e){!document.body.classList.contains("compare-color-show")||this.contains(e.target)||0!==$(e.target).closest("[data-open-compare-color-popup], .halo-popup-content").length||this.setClosePopup(e)}}customElements.define("compare-color",e)};var quickViewShow=document.body.classList.contains("quick-view-show"),productCompareColor=$(".halo-productView .productView-compareColor").length;(!document.body.classList.contains("template-product")||!quickViewShow&&productCompareColor||quickViewShow&&0===productCompareColor)&&window.compareColor();