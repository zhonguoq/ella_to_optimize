class RecentlyViewed extends HTMLElement{constructor(){super(),(this.popup=this).expireDay=this.popup.getAttribute("data-expire-day"),this.limit=this.popup.getAttribute("data-product-to-show"),this.icon=this.getElementsByClassName("recently-viewed-icon"),this.tab=this.getElementsByClassName("recently-viewed-tab"),this.noProduct=this.getElementsByClassName("no-products")[0],this.iconClose=this.getElementsByClassName("button__close");const t=$(this.popup);Shopify.Products.recordRecentlyViewed();var e,o,n=$.cookie("shopify_recently_viewed");for(null==n||""===n?(this.noProduct&&(this.noProduct.style.display="flex"),this.popup.classList.add("is-show")):(e=this.limit,o=this.expireDay,Shopify.Products.showRecentlyViewed({howManyToShow:e,wrapperId:"recently-viewed-products-list",templateId:"recently-viewed-product-popup",onComplete:function(){t.find(".no-products").remove(),t.addClass("is-show");var s=t.find(".products-grid"),e=s.find(".item");0<e.length&&s.is(":visible")&&(window.innerWidth<767?2<e.length&&s.addClass("has-arrow"):3<e.length&&s.addClass("has-arrow")),s.on("mouseenter",".item",e=>{e.preventDefault();var e=$(e.currentTarget),t=s.find(".slick-active").index(e),e=e.find(".second-info").html(),i=$(".product-info",s),t=Math.abs(t)*i.outerHeight();i.html(e).css("margin-top",t).show()}),s.on("mouseenter",".slick-arrow",e=>{$(".product-info",s).hide()}),s.on("click","a[data-mobile-click]",e=>{window.innerWidth<768&&e.preventDefault()}),-1!==window.location.pathname.indexOf("/products/")&&$.cookie("shopify_recently_viewed",n,{expires:o,path:"/",domain:window.location.hostname})}})),$("#recently-viewed-products-share").on("click","[data-open-newsletter-popup]",e=>{e.preventDefault(),document.body.classList.add("newsletter-show"),setTimeout(()=>{document.body.classList.add("show-newsletter-image")},700)}),i=0;i<this.icon.length;i++)this.icon[i].addEventListener("click",this.popup.iconClick.bind(this));for(document.body.addEventListener("click",this.onBodyClickEvent.bind(this)),i=0;i<this.iconClose.length;i++)this.iconClose[i].addEventListener("click",this.popup.closeDetails.bind(this))}iconClick(e){var t,e=e.currentTarget;this.popup;e.classList.contains("open-popup")&&(t=e.getAttribute("data-target"),e.classList.contains("is-open")?(e.classList.remove("is-open"),document.getElementById(t)?.classList.remove("is-visible"),document.querySelector("body").classList.remove("recently-popup-mb-show")):(this.closeTab(),e.classList.add("is-open"),document.getElementById(t)?.classList.add("is-visible"),e=$("#"+t).find(".products-grid"),window.innerWidth<1025?(document.querySelector("body").classList.add("recently-popup-mb-show"),$(".recently-viewed-popup-mb .halo-recently-viewed").hide(),$(".recently-viewed-popup-mb").find("#"+t).length?$("#"+t).show():$(".recently-viewed-popup-mb").append($(document.getElementById(t))),"halo-recently-viewed-list"==t&&e.hasClass("slick-initialized")&&(e.slick("unslick"),e.find(".product-info").remove())):($(".halo-recently-viewed-popup").append($(".recently-viewed-popup-mb .halo-recently-viewed")),"halo-recently-viewed-list"!=t||e.hasClass("slick-initialized")||(2<(t=e.find(".item")).length?e.slick({infinite:!1,speed:1e3,slidesToShow:3,dots:!1,arrows:!0,vertical:!0,slidesToScroll:1,adaptiveHeight:!0,nextArrow:'<button type="button" class="slick-next" aria-label="Next"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><title>ic-arrow-right</title><path d="M15.111 12L8 4.889 8.889 4l8 8-8 8L8 19.111z"></path></svg></button>',prevArrow:'<button type="button" class="slick-prev" aria-label="Previous"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><title>ic-arrow-left</title><path d="M8.778 12l7.111-7.111L15 4l-8 8 8 8 .889-.889z"></path></svg></button>',responsive:[{breakpoint:768,settings:{slidesToScroll:1,slidesToShow:1}}]}):1<t.length&&e.slick({infinite:!1,speed:1e3,slidesToShow:2,dots:!1,arrows:!0,vertical:!0,slidesToScroll:1,adaptiveHeight:!0,nextArrow:'<button type="button" class="slick-next" aria-label="Next"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><title>ic-arrow-right</title><path d="M15.111 12L8 4.889 8.889 4l8 8-8 8L8 19.111z"></path></svg></button>',prevArrow:'<button type="button" class="slick-prev" aria-label="Previous"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><title>ic-arrow-left</title><path d="M8.778 12l7.111-7.111L15 4l-8 8 8 8 .889-.889z"></path></svg></button>',responsive:[{breakpoint:768,settings:{slidesToScroll:1,slidesToShow:1}}]}),e.prepend('<div class="product-info"></div>'))))),document.body.classList.contains("recently-popup-mb-show")&&document.querySelector(".background-overlay").addEventListener("click",this.closeDetails.bind(this))}closeDetails(e){e.preventDefault(),e.stopPropagation(),document.querySelector("body").classList.remove("recently-popup-mb-show"),this.closeTab()}closeTab(){for(i=0;i<this.icon.length;i++)this.icon[i].classList.remove("is-open");for(i=0;i<this.tab.length;i++)this.tab[i].classList.remove("is-visible")}onBodyClickEvent(e){this.contains(e.target)||this.closeTab()}}customElements.define("recently-viewed-popup",RecentlyViewed);class BackToTopButton extends HTMLElement{constructor(){super()}connectedCallback(){this.sideIcons=[...document.getElementsByClassName("recently-viewed-icon")],this.addEventListener("click",e=>{e.preventDefault(),this.sideIcons.forEach(e=>{e=document.getElementById(e.dataset.target);e&&(e.classList.remove("is-open"),e.classList.remove("is-visible"))}),$("html, body").animate({scrollTop:0},700)}),window.addEventListener("scroll",this.onScroll.bind(this))}onScroll(){if((window.pageYOffset||document.body.scrollTop)/document.body.scrollHeight<=.07)return this.hide();this.show()}hide(){this.dataset.scrollToTop=!1}show(){this.dataset.scrollToTop=!0}}customElements.define("back-to-top-button",BackToTopButton);