window.shareProduct=function(){class e extends HTMLElement{constructor(){super(),this.elements={shareButton:this.querySelector("button"),successMessage:this.querySelector('[id^="ShareMessage"]'),urlInput:this.querySelector("input"),content:this.querySelector(".share-button__fallback"),copyButton:this.querySelector(".button-copy"),closeButton:this.querySelector(".share-button__close")},this.elements.shareButton.addEventListener("click",this.toggleDetails.bind(this)),this.elements.copyButton.addEventListener("click",this.copyToClipboard.bind(this)),this.elements.closeButton.addEventListener("click",this.closeDetails.bind(this)),document.querySelector(".background-overlay").addEventListener("click",this.closeDetails.bind(this))}toggleDetails(e){e.preventDefault(),e.stopPropagation();e=this.elements.urlInput.getAttribute("data-url");this.getPosition(),this.setProductInfoTop(this.getProductInfoPosition()),this.elements.successMessage.classList.add("hidden"),this.elements.urlInput.setAttribute("value",e),this.elements.urlInput.classList.remove("is-copy"),this.elements.content.classList.toggle("is-open"),document.querySelector("body").classList.add("modal-share-open")}copyToClipboard(e){e.preventDefault(),e.stopPropagation(),this.elements.urlInput.classList.contains("is-copy")||navigator.clipboard.writeText(this.elements.urlInput.value).then(()=>{this.elements.successMessage.setAttribute("aria-hidden",!1),this.elements.urlInput.setAttribute("value","Link copied to clipboard!"),this.elements.urlInput.classList.add("is-copy"),setTimeout(()=>{this.elements.successMessage.setAttribute("aria-hidden",!0)},6e3)})}closeDetails(e){e.preventDefault();e=this.elements.urlInput.getAttribute("data-url");this.elements.successMessage.classList.add("hidden"),this.elements.urlInput.setAttribute("value",e),this.elements.urlInput.classList.remove("is-copy"),this.elements.content.classList.remove("is-open"),document.querySelector("body").classList.remove("modal-share-open"),this.setProductInfoTop(0)}getPosition(){var e,t,s,o,i;window.innerWidth<=1024||null!=this.elements.shareButton.closest("[data-quick-view-popup]")||(t=(e=this.elements.shareButton.getBoundingClientRect()).top,i=e.left,s=this.elements.content.getBoundingClientRect().width,o=e.height,i=i-s+e.width,this.elements.content.style.setProperty("--share-desk-top",t+o+10+"px"),this.elements.content.style.setProperty("--share-desk-left",i+"px"))}getProductInfoPosition(){return document.querySelector(".productView-details")?.offsetTop}setProductInfoTop(e){document.querySelector(".productView-details")?.style.setProperty("--sticky-top",e+"px")}}customElements.define("share-button",e)};var shareShow=document.body.classList.contains("quick-view-show"),productShare=$(".halo-productView .productView-share").length;(!document.body.classList.contains("template-product")||!shareShow&&productShare||shareShow&&0===productShare)&&window.shareProduct();