class AnimatedComponent extends HTMLElement{constructor(){super()}connectedCallback(){if(this.slides=[...this.querySelectorAll('[data-animate="effect_1"]')],this.section=this.closest(".shopify-section"),this.matches("[data-init-slideshow]"))return this.initObserverForSlick();this.initObserverForOrdinary()}initSlideshowChangeEvent(){var t=this.slides[0];t.classList.add("shouldShow"),t.querySelectorAll(".button").forEach(t=>{AnimatedComponent.addAndRemoveButtonTransitionListeners(t)}),$(this).on("beforeChange",function(t,e,n,i){i=this.slides[i];this.slides.forEach(t=>{t.classList.remove("shouldShow"),t.querySelectorAll(".button").forEach(t=>{t.classList.remove("shouldShow"),AnimatedComponent.addAndRemoveButtonTransitionListeners(t)})}),i.classList.add("shouldShow")})}initObserverForSlick(){var t;AnimatedComponent.slickInitialized(this)?this.initSlideshowChangeEvent():(t={attributes:!0},this.mutationObserver=new MutationObserver((t,e)=>{t=t[0];"attributes"===t.type&&AnimatedComponent.slickInitialized(t.target)&&(this.initSlideshowChangeEvent(),e.disconnect())}),this.mutationObserver.observe(this,t))}initObserverForOrdinary(){this.observer=new IntersectionObserver((e,n)=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.add("shouldShow"),t.target.querySelectorAll(".button").forEach(t=>{AnimatedComponent.addAndRemoveButtonTransitionListeners(t)}),n.unobserve(t.target),0===e.length)&&n.disconnect()})},{threshold:.25}),this.slides.forEach(t=>{this.observer.observe(t)})}static slickInitialized(t){return t.classList.contains("slick-initialized")}static addAndRemoveButtonTransitionListeners(t){null!=t.closest(".enable_border_color")?t.classList.add("banner-button-animated"):(t.removeEventListener("transitionend",AnimatedComponent.bannerButtonTransitionEnd),t.addEventListener("transitionend",AnimatedComponent.bannerButtonTransitionEnd))}static bannerButtonTransitionEnd(t){var t=t.currentTarget,e=t.closest('[data-animate="effect_1"]');e&&t&&(e.classList.contains("shouldShow")?(t.classList.add("banner-button-animated"),t.removeEventListener("transitionend",AnimatedComponent.bannerButtonTransitionEnd)):t.classList.remove("banner-button-animated"))}}customElements.define("animated-component",AnimatedComponent);