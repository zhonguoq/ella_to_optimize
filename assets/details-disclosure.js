class DetailsDisclosure extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),this.addEventListener("keyup",this.onKeyUp),this.mainDetailsToggle.addEventListener("focusout",this.onFocusOut.bind(this))}onKeyUp(e){var t;"ESCAPE"===e.code.toUpperCase()&&(e=e.target.closest("details[open]"))&&(t=e.querySelector("summary"),e.removeAttribute("open"),t.focus())}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}close(){this.mainDetailsToggle.removeAttribute("open")}}customElements.define("details-disclosure",DetailsDisclosure);